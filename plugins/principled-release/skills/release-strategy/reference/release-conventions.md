# Release Conventions

## Changelog Format

The principled release plugin adapts [Keep a Changelog](https://keepachangelog.com/) conventions for the documentation pipeline.

### Entry Grouping

Changelog entries are grouped into these categories, in order:

| Category          | Source                        | Description                                                |
| ----------------- | ----------------------------- | ---------------------------------------------------------- |
| **Features**      | Accepted proposals (RFCs)     | New capabilities driven by specification                   |
| **Improvements**  | Plan tasks without a proposal | Enhancements, refactoring, or optimization from plan tasks |
| **Decisions**     | Accepted ADRs                 | Architectural decisions recorded during the release        |
| **Fixes**         | Commits referencing issues    | Bug fixes linked to GitHub issues                          |
| **Uncategorized** | Unreferenced commits          | Changes without pipeline references                        |

### Entry Format

Each entry includes a brief description and parenthetical pipeline references:

```markdown
- **Short description** --- Expanded detail about the change
  (RFC-NNN, Plan-NNN, ADR-NNN).
```

Multiple references are comma-separated. The references trace the entry back to its originating specifications.

### Uncategorized Changes

Changes without pipeline references appear under "Uncategorized" rather than being hidden. This serves as a feedback mechanism --- visible uncategorized entries prompt teams to improve their reference discipline in PRs and commits.

## Pipeline Reference Patterns

The changelog skill resolves commits to pipeline documents via three mechanisms, in priority order:

1. **PR description references** --- Patterns like `Plan-001`, `RFC-002`, `ADR-005` in the PR body (generated by `/pr-describe`)
2. **Commit message references** --- Patterns like `RFC-001`, `Plan-001`, `ADR-001` in commit messages
3. **Branch naming conventions** --- Patterns like `plan-001/task-3` in the branch name

A single commit may reference multiple pipeline documents. All references are collected and deduplicated.

## Changelog Template Structure

The changelog entry template follows this structure:

```markdown
## [VERSION] - DATE

### Features

- Entry with (RFC-NNN, Plan-NNN) references

### Improvements

- Entry with (Plan-NNN) references

### Decisions

- ADR-NNN: Decision title

### Fixes

- Entry with issue references

### Uncategorized

- Entry without pipeline references
```

Empty sections are omitted. The template uses `{{PLACEHOLDER}}` variables that Claude fills during generation.

## Release Notes vs Changelog

- **Changelog entries** are technical and reference-rich, aimed at developers
- **Release notes** (generated by `/tag-release`) are a synthesis: changelog + release plan summary, suitable for broader audiences
- Both are generated from the same pipeline data but serve different audiences
